/*! sortjs 0.1.6 // 17.10.2013 // Vladimir Neverov <sanguini@gmail.com> // https://github.com/vne/sortjs/wiki */
!function(a){"use strict";function b(a,b){if("string"==typeof a&&(a=[a]),!a||!a.constructor||a.constructor!==Array)return function(){};if(b&&b.get&&"function"!=typeof b.get)throw new Error("'get' argument is not a function");if(b&&b.context&&"object"!=typeof b.context)throw new Error("'context' argument is not an object");var c,d,e,f,g,h,i,j,k,l,m=[],n={},o={noop:function(a){return a},tostring:function(a){return a.toString()},toistring:function(a){return a.toString().toLowerCase()}};for(c=0;c<a.length;c++)d=a[c],f={src:d,flagfn:o.noop},e=1,0===d.indexOf("-")&&(d=d.substr(1),e=-1),1===d.indexOf(":")&&(g=d.split(":"),f[g[0]]=!0,d=g[1],n.flags=!0),f.dir=e,f.name=d,b&&b.get?(f.context={field:d,dir:e,options:f},f.use_callback=!0,n.callbacks=!0):b&&b.context&&(f.use_context=!0,f.context=b.context,n.contexts=!0),f.s?(f.to_string=!0,f.flagfn=o.tostring,n.str=!0):f.i&&(f.to_istring=!0,f.flagfn=o.toistring,n.istr=!0),f.f?(f.to_float=!0,f.flagfn=parseFloat,n.floats=!0):f.n&&(f.to_int=!0,f.flagfn=parseInt,n.ints=!0),m.push(f);return m.length>0&&(j=m[0].name),m.length>1&&(k=m[1].name),m.length>2&&(l=m[2].name),i={universal:function(a,c){var d,e,f,g;for(d=0;d<m.length;d++){if(g=m[d],g.use_callback||g.use_context?g.use_context?(e=g.context[a][g.name]||a,f=g.context[c][g.name]||c):(g.context.this=this,g.context.element=a,e=b.get(g.context),g.context.element=c,f=b.get(g.context)):(e="object"==typeof a?a[g.name]:a,f="object"==typeof c?c[g.name]:c),g.to_string?(e=e.toString(),f=f.toString()):g.to_istring?(e="string"!=typeof e?e.toString().toLowerCase():e.toLowerCase(),f="string"!=typeof f?f.toString().toLowerCase():f.toLowerCase()):g.to_float?(e="number"!=typeof e?parseFloat(e):e,f="number"!=typeof f?parseFloat(f):f):g.to_int&&(e="number"==typeof e&&0===e%1?e:parseInt(e,10),f="number"==typeof f&&0===f%1?f:parseInt(f,10)),f>e)return-g.dir;if(e>f)return g.dir}},simple:function(a,b){var c;for(c=0;c<m.length;c++){if(a[m[c].name]<b[m[c].name])return-m[c].dir;if(a[m[c].name]>b[m[c].name])return m[c].dir}},single:function(a,b){return a[j]<b[j]?-m[0].dir:a[j]>b[j]?m[0].dir:a[k]<b[k]?-m[1].dir:a[k]>b[k]?m[1].dir:a[l]<b[l]?-m[2].dir:a[l]>b[l]?m[2].dir:void 0},withflags:function(a,b){var c,d,e,f;for(c=0;c<m.length;c++){if(f=m[c],d="object"==typeof a?a[f.name]:a,e="object"==typeof b?b[f.name]:b,f.to_string?(d=d.toString(),e=e.toString()):f.to_istring?(d="string"!=typeof d?d.toString().toLowerCase():d.toLowerCase(),e="string"!=typeof e?e.toString().toLowerCase():e.toLowerCase()):f.to_float||f.to_int?(d="number"!=typeof d?parseFloat(d):d,e="number"!=typeof e?parseFloat(e):e):f.to_int&&(d="number"==typeof d&&0===d%1?d:parseInt(d,10),e="number"==typeof e&&0===e%1?e:parseInt(e,10)),d=f.flagfn(d),e=f.flagfn(e),e>d)return-f.dir;if(d>e)return f.dir}},withcontexts:function(a,c){var d,e,f,g;for(d=0;d<m.length;d++){if(g=m[d],g.use_callback||g.use_context?g.use_context?(e=g.context[a][g.name]||a,f=g.context[c][g.name]||c):(g.context.this=this,g.context.element=a,e=b.get(g.context),g.context.element=c,f=b.get(g.context)):(e="object"==typeof a?a[g.name]:a,f="object"==typeof c?c[g.name]:c),f>e)return-g.dir;if(e>f)return g.dir}}},n.flags&&(n.contexts||n.callbacks)?(h=i.universal,h.type="U"):n.flags?(h=i.withflags,h.type="F"):n.contexts||n.callbacks?(h=i.withcontexts,h.type="C"):m.length<3?(h=i.single,h.type="1"):(h=i.simple,h.type="S"),h}function c(a){d(a),e()}function d(a){l.Array.prototype.sortjs=function(c){var d=a?this:this.slice(0);return d.sort(b(c)),d},l.Array.prototype.isortjs=function(a){return this.sort(b(a)),this}}function e(){l.Object.prototype.sortjs=function(a){var c=Object.keys(this);return c.sort(b(a,{context:this})),c}}function f(){g(),h()}function g(){delete l.Array.prototype.sortjs,delete l.Array.prototype.isortjs}function h(){delete l.Object.prototype.sortjs}function i(a,b){return m(a,b,!0)}function j(){return k}function k(a,b){return a.f>b.f?-1:a.f<b.f?1:void 0}var l,m=function(a,c,d){var e;if(a.constructor===Array)e=d?a:a.slice(0),e.sort(b(c));else{if(a.constructor!==Object)throw new Error("Sorry, don't know how to sort this kind of things");e=Object.keys(a);var f=b(c,{context:a});e.sort(f)}return e};try{l=window}catch(n){l=global}a.getObjectSorter=b,a.improve=c,a.improveArray=d,a.improveObject=e,a.clear=f,a.clearArray=g,a.clearObject=h,a.sort=m,a.inplace=i,a.getSortByF=j,a.sortByF=k}("undefined"==typeof exports?this.sortjs={}:exports);