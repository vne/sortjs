/*! sortjs 0.1.12 // 11.03.2014 // Vladimir Neverov <sanguini@gmail.com> // https://github.com/vne/sortjs/wiki */
!function(a){"use strict";function b(a,b){if("string"==typeof a&&(a=[a]),!a||!a.constructor||a.constructor!==Array)return function(){};if(b&&b.get&&"function"!=typeof b.get)throw new Error("'get' argument is not a function");if(b&&b.context&&"object"!=typeof b.context)throw new Error("'context' argument is not an object");var c,d,e,f,g,h,i,j,k,l,m=[],n={},o=b&&b.hint?b.hint.toLowerCase():void 0,p={noop:function(a){return a},tostring:function(a){return a?a.toString():a},toistring:function(a){return a?a.toString().toLowerCase():a},todate:function(a){return new Date(a)},tofloat:function(a){return"number"!=typeof a?parseFloat(a):a},toint:function(a){return"number"==typeof a&&0===a%1?a:parseInt(a,10)}};for(h=0;h<a.length;h++)i=a[h],k={src:i,flagfn:p.noop},j=1,0===i.indexOf("-")&&(i=i.substr(1),j=-1),1===i.indexOf(":")&&(l=i.split(":"),k[l[0]]=!0,i=l[1],n.flags=!0),k.dir=j,k.name=i,b&&b.get?(k.context={field:i,dir:j,options:k},k.use_callback=!0,n.callbacks=!0):b&&b.context&&(k.use_context=!0,k.context=b.context,n.contexts=!0),k.s?(k.to_string=!0,k.flagfn=p.tostring,n.str=!0):k.i?(k.to_istring=!0,k.flagfn=p.toistring,n.istr=!0):k.f?(k.to_float=!0,k.flagfn=p.tofloat,n.floats=!0):k.n?(k.to_int=!0,k.flagfn=p.toint,n.ints=!0):k.d&&(k.to_date=!0,k.flagfn=p.todate,n.dates=!0),m.push(k);return m.length>0&&(c=m[0].name),m.length>1&&(d=m[1].name),m.length>2&&(e=m[2].name),f={universal:function(a,c){var d,e,f,g;for(d=0;d<m.length;d++){if(g=m[d],g.use_callback||g.use_context?g.use_context?(e=g.context[a][g.name]||a,f=g.context[c][g.name]||c):(g.context.this=this,g.context.element=a,e=b.get(g.context),g.context.element=c,f=b.get(g.context)):(e="object"==typeof a?a[g.name]:a,f="object"==typeof c?c[g.name]:c),(g.to_int||g.to_float||g.to_string||g.to_istring||g.to_date)&&(e=g.flagfn(e),f=g.flagfn(f)),f>e)return-g.dir;if(e>f)return g.dir}},simple:function(a,b){var c;for(c=0;c<m.length;c++){if(a[m[c].name]<b[m[c].name])return-m[c].dir;if(a[m[c].name]>b[m[c].name])return m[c].dir}},single:function(a,b){if(m.length){if("undefined"==typeof a[c]||null===a[c])return-m[0].dir;if("undefiend"==typeof b[c]||null===b[c])return m[0].dir;if(a[c]<b[c])return-m[0].dir;if(a[c]>b[c])return m[0].dir;if(!(m.length<2)){if("undefined"==typeof a[d]||null===a[d])return-m[1].dir;if("undefiend"==typeof b[d]||null===b[d])return m[1].dir;if(a[d]<b[d])return-m[1].dir;if(a[d]>b[d])return m[1].dir;if(!(m.length<3))return"undefined"==typeof a[e]||null===a[e]?-m[2].dir:"undefiend"==typeof b[e]||null===b[e]?m[2].dir:a[e]<b[e]?-m[2].dir:a[e]>b[e]?m[2].dir:void 0}}},withflags:function(a,b){var c,d,e,f;for(c=0;c<m.length;c++){if(f=m[c],d="object"==typeof a?a[f.name]:a,e="object"==typeof b?b[f.name]:b,(f.to_int||f.to_float||f.to_string||f.to_istring||f.to_date)&&(d=f.flagfn(d),e=f.flagfn(e)),e>d)return-f.dir;if(d>e)return f.dir}},withcontexts:function(a,c){var d,e,f,g;for(d=0;d<m.length;d++){if(g=m[d],g.use_callback||g.use_context?g.use_context?(e=g.context[a][g.name]||a,f=g.context[c][g.name]||c):(g.context.this=this,g.context.element=a,e=b.get(g.context),g.context.element=c,f=b.get(g.context)):(e="object"==typeof a?a[g.name]:a,f="object"==typeof c?c[g.name]:c),f>e)return-g.dir;if(e>f)return g.dir}}},"u"===o||!o&&n.flags&&(n.contexts||n.callbacks)?(g=f.universal,g.type="U"):"f"===o||!o&&n.flags?(g=f.withflags,g.type="F"):"c"===o||!o&&(n.contexts||n.callbacks)?(g=f.withcontexts,g.type="C"):"1"===o||!o&&m.length<3?(g=f.single,g.type="1"):(g=f.simple,g.type="S"),g}function c(a,c,d){var e;if(a.constructor===Array)e=d?a:a.slice(0),e.sort(b(c));else{if(a.constructor!==Object)throw new Error("Sorry, don't know how to sort this kind of things");e=Object.keys(a),e.sort(b(c,{context:a}))}return e}function d(a,b){return c(a,b,!0)}function e(a){f(a),g()}function f(a){Array.prototype.sortjs=function(c){var d=a?this:this.slice(0);return d.sort(b(c)),d},Array.prototype.isortjs=function(a){return this.sort(b(a)),this}}function g(){Object.prototype.sortjs=function(a){var c=Object.keys(this);return c.sort(b(a,{context:this})),c}}function h(){i(),j()}function i(){delete Array.prototype.sortjs,delete Array.prototype.isortjs}function j(){delete Object.prototype.sortjs}a.getObjectSorter=b,a.improve=e,a.improveArray=f,a.improveObject=g,a.clear=h,a.clearArray=i,a.clearObject=j,a.sort=c,a.inplace=d}("undefined"==typeof exports?this.sortjs={}:exports);